## jmeter基础使用:
- 首先在测试计划中添加线程组
- 在线程组中添加http请求
- 在请求中写入需要测试的url, 请求方式, 端口号, 路径
  - 若有参数, 可以在路径中添加``?参数名=参数值``
  - 若是表单数据, 可以在参数处中添加``参数名和参数值``
  - 若需要上传文件, 选择文件上传, 点击添加, 在文件名称中写入需要上传的文件路径, 参数名称写入参数名, MIME类型写入对应的类型参数
  - 若是需要传入json数据, 选择``JSON``, 在请求中写入json数据
- 添加监听器, 查看测试结果

## jmeter参数化
- 当使用同一个测试脚本,使用到不同的测试数据,为了不做重复操作,而使用变量来输入数据,叫做参数化   
- 在jemeter当中, 使用``${变量名}``来表示变量, 之后可添加配置元件``用户定义的变量``来为变量输入数据
### 1. 用户定义的变量
- 可以在``用户定义的变量``中添加变量名和变量值, 之后在http请求中使用``${变量名}``来输入变量值
- 若需要使用变量嵌套, 则需要使用[[Jmeter函数#V函数]]
- ``用户定义的变量``定义的变量都是全局变量
  
### 2. <a name="局部变量转全局变量">局部变量转成全局变量</a>
- 有时变量为局部变量, 无法在http请求中使用, 则需要将局部变量转成全局变量
- 可以在http请求中使用``${__setProperty(变量名, ${局部变量名},)}``来将局部变量转成全局变量
- 在其他线程组要使用时, 需要使用[[Jmeter函数#P函数]]来引用全局变量

### 3. CSV文件读取变量
- 添加``CSV文件数据设置``, 在``文件名``中输入csv文件路径, 在``分隔符``中输入分隔符, 在``变量名``中输入变量名, 在``是否包含文件头``中选择是否包含文件头, 在``默认值``中输入默认值, 在``注释``中输入注释
- 同一线程组内的http请求可以使用``${变量名}``来输入变量值
- 若是不同线程组, 则需要使用[局部变量转全局变量](#局部变量转全局变量)

### 4. JDBC request
- 添加``JDBC request``, 在``数据库连接配置``中选择数据库连接, 在``SQL查询``中输入SQL语句, 在``变量名``中输入变量名, 在``默认值``中输入默认值, 在``注释``中输入注释
- 同一线程组内的http请求可以使用``${变量名}``来输入变量值
- 若是不同线程组, 则需要使用[局部变量转全局变量](#局部变量转全局变量)

### 5. 提取器
- 当需要获取http请求返回的数据时,可以使用提取器来提取数据
- 常用的提取器有:
  - 边界提取器: 输入变量名称, 输入需要获取的字段的左右边界字段, 填入匹配数字
    - 匹配数字: 
      - 为0时, 会随机匹配到任意字段
      - 为1时, 会匹配到第一个字段
      - 为2时, 会匹配到第二个字段
      - 为-1时, 会匹配到所有字段
  - 正则表达式提取器: 输入正则表达式, 输入需要获取的字段的左右边界字段, 填入匹配数字
    - 匹配数字:
      - 为0时, 会随机匹配到任意字段
      - 为1时, 会匹配到第一个字段
      - 为2时, 会匹配到第二个字段
      - 为-1时, 会匹配到所有字段
  - XPath提取器: 
  - JSON提取器


## jmeter逻辑控制器
### 循环控制器
#### 1. ForEach循环控制器
- 相当于代码中的``For``循环, 单个变量递增输入来进行循环执行请求
- 需要输入: ``变量前缀, 开始循环字段(不包含), 结束循环字段(包含), 输出变量名称``
  - 变量前缀: 在``用户定义的变量``中需要对变量名添加``_{数字}``, 将下划线前输入到变量前缀中
  - 开始循环字段: 不会包含该字段, 所以一般从0开始
  - 结束循环字段: 会包含该字段, 填入最后一个字段即可
  - 输出变量名称: 将循环的字段再取一次名称,填入http请求内即可

#### 2. 循环控制器
- 只能输入循环次数, 输入多少次就执行多少次, 没有变量添加

#### 3. while循环控制器
- 相当于``do while``, 会先执行一次请求, 再将计数加一
- 一般配合计数器使用
  - 配置元件中可添加计数器
  - 需要输入``开始数值, 递增, 最大数值, 引用名称``
    - 类似于ForEach循环控制器中的输入字段, 只是多了一个递增
- while循环控制器需要输入条件, 一般会用到[[Jmeter函数#jexl3]]
- 再添加http请求到while下方, 在请求内写入变量, 当需要用到变量嵌套时, 需要使用[[Jmeter函数#V函数]]


### 逻辑控制器
#### 1. if逻辑控制器
- 需要输入[[Jmeter函数#jexl3]]函数的表达式, 当表达式为真, 则会执行, 为假时, 不执行